(this.webpackJsonpblog_frontend=this.webpackJsonpblog_frontend||[]).push([[0],{100:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(30),c=n.n(r),s=(n(99),n(11)),l=(n(100),n(156)),o=n(155),j=n(158),d=n(154),u=n(159),b=n(78),x=n.n(b),h=n(14),O=n(160),f=n(1),m=function(e){var t=Object(h.f)();return Object(f.jsx)(o.a,{sx:{flexGrow:1},children:Object(f.jsx)(l.a,{position:"static",children:Object(f.jsxs)(j.a,{children:[Object(f.jsx)(u.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(f.jsx)(x.a,{})}),Object(f.jsxs)(o.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[Object(f.jsx)(d.a,{color:"inherit",onClick:function(){return t("/")},children:"Home"}),e.currentUser>0&&Object(f.jsx)(d.a,{color:"inherit",sx:{marginLeft:1},onClick:function(){return t("/new")},children:"New Post"}),Object(f.jsx)(d.a,{color:"inherit",sx:{marginLeft:1},onClick:function(){return t("/register")},children:"Register"})]}),Object(f.jsx)(O.a,{variant:"h6",component:"div",children:e.currentUser?"Welcome ".concat(e.users.find((function(t){return t.id===e.currentUser})).first,"!"):""}),0===e.currentUser&&Object(f.jsx)(d.a,{color:"inherit",sx:{marginLeft:1},onClick:function(){return t("/login")},children:"Login"}),e.currentUser>0&&Object(f.jsx)(d.a,{color:"inherit",sx:{marginLeft:1},onClick:function(){e.setCurrentUser(0),t("/login")},children:"Logout"})]})})})},p=n(162),g=n(166),v=n(165),C=n(161),w=n(163),y=n(164),L=n(157),P=function(e){var t=Object(h.f)(),n=Object(a.useState)([]),i=Object(s.a)(n,2),r=i[0],c=i[1],l=Object(a.useState)("myPosts"),o=Object(s.a)(l,2),j=o[0],u=o[1],b=e.posts,x=b.filter((function(t){return t.userid===e.currentUser})),m=e.currentUser>0;return Object(a.useEffect)((function(){c(m&&"myPosts"===j?x:b)}),[j,m,b]),Object(a.useEffect)((function(){m||u("allPosts")}),[m]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{variant:"h5",component:"div",sx:{marginLeft:1,marginTop:1},children:"allPosts"===j?"All Blog Posts":"My Blog Posts"}),Object(f.jsx)(C.a,{component:L.a,children:Object(f.jsxs)(p.a,{sx:{maxWidth:1e3},"aria-label":"blog table",children:[Object(f.jsx)(w.a,{children:Object(f.jsxs)(y.a,{children:[Object(f.jsx)(v.a,{children:Object(f.jsx)(O.a,{variant:"h6",component:"div",children:"Title"})}),Object(f.jsx)(v.a,{align:"left",children:Object(f.jsx)(O.a,{variant:"h6",component:"div",children:"Author"})}),Object(f.jsx)(v.a,{align:"left",children:Object(f.jsx)(O.a,{variant:"h6",component:"div",children:"Text"})}),Object(f.jsx)(v.a,{align:"left",children:Object(f.jsx)(O.a,{variant:"h6",component:"div",children:"Date"})})]})}),Object(f.jsx)(g.a,{children:r.map((function(n){var a=new Date(n.created_date).toLocaleDateString(),i=e.users.find((function(e){return e.id===n.userid}));return Object(f.jsxs)(y.a,{sx:{"&:last-child td, &:last-child th":{border:0}},onClick:function(){e.setDetail(n),t("/detail")},children:[Object(f.jsx)(v.a,{component:"th",scope:"row",children:n.title},n.title),Object(f.jsxs)(v.a,{align:"left",children:[i.first," ",i.last]},n.userid),Object(f.jsx)(v.a,{align:"left",children:n.text.length>100?"".concat(n.text.substring(0,100),"..."):n.text},n.text),Object(f.jsx)(v.a,{align:"left",children:a},n.created_date)]},n.id)}))})]})}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),m&&"myPosts"===j&&Object(f.jsx)(d.a,{variant:"outlined",sx:{marginLeft:1},onClick:function(){return u("allPosts")},children:"Show All Posts"}),m&&"allPosts"===j&&Object(f.jsx)(d.a,{variant:"outlined",sx:{marginLeft:1},onClick:function(){return u("myPosts")},children:"Show Only My Posts"})]})},S=n(5),T=n(22),U=n(151),k=function(e){var t=Object(h.f)(),n=new Date(e.detail.created_date).toLocaleDateString(),i=e.users.find((function(t){return t.id===e.detail.userid})),r=Object(a.useState)(!1),c=Object(s.a)(r,2),l=c[0],o=c[1],j=Object(a.useState)({title:e.detail.title,text:e.detail.text}),u=Object(s.a)(j,2),b=u[0],x=u[1],m=e.detail.userid===e.currentUser,P=function(e){var t=e.target,n=t.name,a=t.value;x(Object(T.a)(Object(T.a)({},b),{},Object(S.a)({},n,a)))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{variant:"h5",component:"div",sx:{flexGrow:1,marginLeft:1,marginTop:1},children:"Post Details"}),Object(f.jsx)(C.a,{component:L.a,children:Object(f.jsxs)(p.a,{sx:{maxWidth:1e3},"aria-label":"blog table",children:[Object(f.jsx)(w.a,{children:Object(f.jsxs)(y.a,{children:[Object(f.jsx)(v.a,{children:"Title"}),Object(f.jsx)(v.a,{align:"left",children:"Author"}),Object(f.jsx)(v.a,{align:"left",children:"Text"}),Object(f.jsx)(v.a,{align:"left",children:"Created Date"})]})}),Object(f.jsx)(g.a,{children:Object(f.jsxs)(y.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(f.jsx)(v.a,{component:"th",scope:"row",children:l?Object(f.jsx)(U.a,{id:"title-input",name:"title",label:"Title",type:"text",value:b.title,onChange:P}):e.detail.title},e.detail.title),Object(f.jsxs)(v.a,{align:"left",children:[i.first," ",i.last]},e.detail.userid),Object(f.jsx)(v.a,{align:"left",children:l?Object(f.jsx)(U.a,{id:"text-input",name:"text",label:"Text",type:"text",value:b.text,onChange:P,multiline:!0}):e.detail.text},e.detail.text),Object(f.jsx)(v.a,{align:"left",children:n},e.detail.created_date)]},e.detail.id)})]})}),Object(f.jsx)("br",{}),!l&&m&&Object(f.jsxs)("div",{children:[Object(f.jsx)(d.a,{variant:"outlined",sx:{marginLeft:1},onClick:function(){return o(!0)},children:"Edit Post"}),Object(f.jsx)(d.a,{variant:"outlined",sx:{marginLeft:1},onClick:function(){e.deletePost(),t("/")},children:"Delete Post"})]}),l&&m&&Object(f.jsxs)("div",{children:[Object(f.jsx)(d.a,{variant:"outlined",sx:{marginLeft:1},onClick:function(){e.editPost(b),t("/")},children:"Save"}),Object(f.jsx)(d.a,{variant:"outlined",sx:{marginLeft:1},onClick:function(){return t("/")},children:"Cancel"})]}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)(d.a,{variant:"outlined",sx:{marginLeft:1},onClick:function(){return t("/")},children:"Back to List View"})]})},F=function(e){var t=Object(h.f)(),n=Object(a.useState)({}),i=Object(s.a)(n,2),r=i[0],c=i[1],l=function(e){var t=e.target,n=t.name,a=t.value;c(Object(T.a)(Object(T.a)({},r),{},Object(S.a)({},n,a)))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{variant:"h5",component:"div",sx:{flexGrow:1,marginLeft:1,marginTop:1},children:"New Blog Post"}),Object(f.jsxs)(o.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[Object(f.jsx)("div",{children:Object(f.jsx)(U.a,{id:"title-input",name:"title",label:"Title",type:"text",value:r.title,onChange:l})}),Object(f.jsx)("div",{children:Object(f.jsx)(U.a,{id:"text-input",name:"text",label:"Text",type:"text",value:r.text,onChange:l,multiline:!0})})]}),Object(f.jsx)(d.a,{variant:"outlined",sx:{marginLeft:1},onClick:function(){e.submitPost(r),t("/")},children:"Submit Post"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)(d.a,{variant:"outlined",sx:{marginLeft:1},onClick:function(){return t("/")},children:"Cancel"})]})},D=function(e){var t=Object(h.f)(),n=Object(a.useState)({}),i=Object(s.a)(n,2),r=i[0],c=i[1],l=function(e){var t=e.target,n=t.name,a=t.value;c(Object(T.a)(Object(T.a)({},r),{},Object(S.a)({},n,a)))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{variant:"h5",component:"div",sx:{flexGrow:1,marginLeft:1,marginTop:1},children:"New User Registration"}),Object(f.jsxs)(o.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(U.a,{id:"first-input",name:"first",label:"First Name",type:"text",value:r.first,onChange:l}),Object(f.jsx)(U.a,{id:"last-input",name:"last",label:"Last Name",type:"text",value:r.last,onChange:l})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(U.a,{id:"username-input",name:"username",label:"Username",type:"text",value:r.username,onChange:l}),Object(f.jsx)(U.a,{id:"password-input",name:"password",label:"Password",type:"password",value:r.password,onChange:l})]}),Object(f.jsx)("div",{children:Object(f.jsx)(U.a,{id:"email-input",name:"email",label:"Email",type:"text",value:r.email,onChange:l})})]}),Object(f.jsx)(d.a,{variant:"outlined",sx:{marginLeft:1},onClick:function(){e.registerUser(r),t("/")},children:"Register User"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)(d.a,{variant:"outlined",sx:{marginLeft:1},onClick:function(){return t("/")},children:"Cancel"})]})},N=function(e){var t=Object(h.f)(),n=Object(a.useState)({}),i=Object(s.a)(n,2),r=i[0],c=i[1],l=function(e){var t=e.target,n=t.name,a=t.value;c(Object(T.a)(Object(T.a)({},r),{},Object(S.a)({},n,a)))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{variant:"h5",component:"div",sx:{flexGrow:1,marginLeft:1,marginTop:1},children:"Login"}),Object(f.jsx)(o.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:Object(f.jsxs)("div",{children:[Object(f.jsx)(U.a,{id:"username-input",name:"username",label:"Username",type:"text",value:r.username,onChange:l}),Object(f.jsx)(U.a,{id:"password-input",name:"password",label:"Password",type:"password",value:r.password,onChange:l})]})}),Object(f.jsx)(d.a,{variant:"outlined",sx:{marginLeft:1},onClick:function(){!0===void fetch("http://localhost:8080/users/login",{method:"POST",body:JSON.stringify({username:r.username,password:r.password}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){200===n.status?(e.setCurrentUser(n.id),t("/")):400===n.status?alert("User Not Found"):401===n.status&&alert("Authentication Failed")}))?t("/"):t("/login")},children:"Login"})]})},E=n(27),_=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)([]),c=Object(s.a)(r,2),l=c[0],o=c[1],j=Object(a.useState)({}),d=Object(s.a)(j,2),u=d[0],b=d[1],x=Object(a.useState)(0),O=Object(s.a)(x,2),p=O[0],g=O[1],v=function(){fetch("http://localhost:8080/users").then((function(e){return e.json()})).then((function(e){return i(e)})).then(fetch("http://localhost:8080/posts").then((function(e){return e.json()})).then((function(e){return o(e)})))};Object(a.useEffect)((function(){return v()}),[]);return Object(f.jsxs)(E.a,{children:[Object(f.jsx)(m,{users:n,currentUser:p,setCurrentUser:g}),Object(f.jsxs)(h.c,{children:[Object(f.jsx)(h.a,{path:"/",element:Object(f.jsx)(P,{users:n,currentUser:p,posts:l,setDetail:b})}),Object(f.jsx)(h.a,{path:"/detail",element:Object(f.jsx)(k,{editPost:function(e){fetch("http://localhost:8080/posts/".concat(u.id),{method:"PUT",body:JSON.stringify({title:e.title,text:e.text}),headers:{"Content-Type":"application/json"}}).then((function(){return v()}))},deletePost:function(){fetch("http://localhost:8080/posts/".concat(u.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(){return v()}))},users:n,currentUser:p,detail:u})}),Object(f.jsx)(h.a,{path:"/new",element:Object(f.jsx)(F,{submitPost:function(e){fetch("http://localhost:8080/posts",{method:"POST",body:JSON.stringify({userid:p,title:e.title,text:e.text,created_date:(new Date).toISOString()}),headers:{"Content-Type":"application/json"}}).then((function(){return v()}))}})}),Object(f.jsx)(h.a,{path:"/register",element:Object(f.jsx)(D,{registerUser:function(e){fetch("http://localhost:8080/users",{method:"POST",body:JSON.stringify({first:e.first,last:e.last,username:e.username,password:e.password,email:e.email}),headers:{"Content-Type":"application/json"}}).then((function(){return v()}))}})}),Object(f.jsx)(h.a,{path:"/login",element:Object(f.jsx)(N,{setCurrentUser:g})})]})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,167)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(_,{})}),document.getElementById("root")),B()},99:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.d059232e.chunk.js.map